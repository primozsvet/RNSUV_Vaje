<div class="container d-flex align-items-center justify-content-center min-vh-100">
    <!-- Single responsive card/form -->
    <div class="w-100 w-md-80 w-lg-80 contact-new-root">
        <!-- Left-aligned back link placed outside the card -->
        <a href="/contacts" class="text-muted back-link d-inline-block mb-2">&lt;- Prekliči</a>
        <div class="card shadow-sm mb-5">
            <div class="card-body p-4">
                <h2 class="mb-4 fw-bold contact-new-title">Dodaj nov kontakt</h2>
                <form (ngSubmit)="onSubmit(contactForm)" class="form-group" #contactForm="ngForm">
                    <div class="mb-3">
                        <label for="ime" class="form-label contact-new-label">Ime:</label>
                        <input type="text" class="form-control contact-new-input" id="ime" placeholder="Vnesite ime"
                            name="contactName" [(ngModel)]="contact.name" #contactName="ngModel" required
                            [ngClass]="{'is-invalid': contactName.invalid && (contactName.touched || contactName.dirty || contactForm.submitted), 'is-valid': contactName.valid && (contactName.touched || contactName.dirty || contactForm.submitted)}">
                        @if (contactName.invalid && (contactName.touched || contactName.dirty || contactForm.submitted))
                        {
                        <div class="invalid-feedback d-block">Polje je obvezno!</div>
                        }
                    </div>
                    <div class="mb-3">
                        <label for="priimek" class="form-label contact-new-label">Priimek:</label>
                        <input type="text" class="form-control contact-new-input" id="priimek"
                            placeholder="Vnesite priimek" name="contactSurname" [(ngModel)]="contact.surname"
                            #contactSurname="ngModel" required
                            [ngClass]="{'is-invalid': contactSurname.invalid && (contactSurname.touched || contactSurname.dirty || contactForm.submitted), 'is-valid': contactSurname.valid && (contactSurname.touched || contactSurname.dirty || contactForm.submitted)}">
                        @if (contactSurname.invalid && (contactSurname.touched || contactSurname.dirty ||
                        contactForm.submitted))
                        {
                        <div class="invalid-feedback d-block">Polje je obvezno!</div>
                        }
                    </div>
                    <div class="mb-3">
                        <label for="telefon" class="form-label contact-new-label">Telefon:</label>
                        <input type="text" class="form-control contact-new-input" id="telefon"
                            placeholder="Vnesite telefonsko številko" name="contactPhone" [(ngModel)]="contact.phone"
                            #contactPhone="ngModel" required
                            [ngClass]="{'is-invalid': contactPhone.invalid && (contactPhone.touched || contactPhone.dirty || contactForm.submitted), 'is-valid': contactPhone.valid && (contactPhone.touched || contactPhone.dirty || contactForm.submitted)}">
                        @if (contactPhone.invalid && (contactPhone.touched || contactPhone.dirty ||
                        contactForm.submitted))
                        {
                        <div class="invalid-feedback d-block">Polje je obvezno!</div>
                        }
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label contact-new-label">Elektronska pošta:</label>
                        <input type="email" class="form-control contact-new-input" id="email"
                            placeholder="Vnesite email" name="contactEmail" [(ngModel)]="contact.email"
                            #contactEmail="ngModel" required
                            [ngClass]="{'is-invalid': contactEmail.invalid && (contactEmail.touched || contactEmail.dirty || contactForm.submitted), 'is-valid': contactEmail.valid && (contactEmail.touched || contactEmail.dirty || contactForm.submitted)}">
                        @if (contactEmail.invalid && (contactEmail.touched || contactEmail.dirty ||
                        contactForm.submitted))
                        {
                        <div class="invalid-feedback d-block">Polje je obvezno!</div>
                        }
                    </div>
                    <div class="mb-4">
                        <label for="podjetje" class="form-label contact-new-label">Podjetje (neobvezno):</label>
                        <input type="text" class="form-control contact-new-input" id="podjetje"
                            placeholder="Vnesite podjetje (neobvezno)" name="contactCompany"
                            [(ngModel)]="contact.company" #contactCompany="ngModel">
                    </div>
                    <div class="d-grid gap-2 d-lg-flex justify-content-lg-end">
                        <button [disabled]="contactForm.invalid" type="submit"
                            class="btn btn-success text-white contact-new-btn">Shrani</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>